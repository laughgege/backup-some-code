
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<style>
	td{
		border-right:1px solid black;border-bottom:1px solid black;
	}
</style>
<script type="text/javascript" charset="utf-8" src="../js_code/functions.js"></script>
<script>
var str = "worisi  le  zheshishenme  laji  dongxi";

var re = /(..)(.)\s/g;
var index = 0;

while(re.test(str)){ //有g用 while 没有g用if
	alert(RegExp.$2);
	index = re.lastIndex;//结束后自动置成0。
}
alert(index)
</script>
</head>


<body style='min-width:960px;'>

</body>
</html>
<script>

//function trackEvent(NULL,NULL,NULL,NULL,e){
	//if(!e) return;
	//ie  	name message
	//ff  	name message lineNumber fileName stack
	//chrome  name message 					  arguments
	//safari  name message line sourceURL
	//opera	       message{ message, line, Backtrace}	 line从脚本开始开始算 
//}


/*function floorArray(arr,i){
	if(!i||$type(arr)!= 'array')	return [];
	for(var p = 1;p<=i;p++){
		var n = [],m = [];
		for(var j = 0;j<arr.length;j++){
			if($type(arr[j])!='array')
				n.push(arr[j]);
			else
				m = m.concat(arr[j]);
		}
		arr = m;
	}
	return n;
}

var arr = [1,2,4,[5,6,[7,9]],8];
floorArray(arr,3);*/

function $XP(str,el){
	if((typeof str != 'string')||str == "") 
		return el;
	var a = str.split('#'),s = [],m=[],ele;
	s = a[a.length-1].split('/');
	if(s[0] == "")	s.shift();
	m = s.shift().match(/([^\[\]]+)(?:\[(\d+)\])?/);
	
	if(a.length == 1)	
		ele = el?$(el).$(m[1])[m[2]||0]:document.$(m[1])[m[2]||0];
	else
		ele = $(m[1]);

	return $XP(s.join('/'),ele);
}
</script>